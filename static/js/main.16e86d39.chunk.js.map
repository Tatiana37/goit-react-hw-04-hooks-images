{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Modal/Modal.module.css","components/PendingView/PendingView.module.css","components/Container/Container.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/SearchBar/SearchBar.module.css","services/PixabayAPI.js","components/Container/Container.js","components/SearchBar/SearchBar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","components/ErrorView/ErrorView.js","components/PendingView/PendingView.js","components/App/App.js","index.js"],"names":["module","exports","MY_API_KEY","query","a","page","axios","get","hits","data","defaults","baseURL","Container","children","className","s","container","Searchbar","onSubmit","useState","searchValue","setSearchValue","SearchForm","e","preventDefault","trim","toast","error","position","POSITION","TOP_LEFT","theme","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","target","value","toLowerCase","ImageGalleryItem","picture","onModalOpen","src","webformatURL","alt","tags","ImageGalleryItemImage","onClick","ImageGallery","pictures","map","id","Button","modalRoot","document","querySelector","Modal","onClose","useEffect","handleKeyDown","code","window","addEventListener","removeEventListener","createPortal","backdrop","currentTarget","content","ErrorView","role","PendingView","spinnerBox","size","spinner","App","setPage","searchQuery","setSearchQuery","setPictures","loading","setLoading","showModal","setShowModal","largePicture","setLargePicture","getPictures","then","prev","scrollTo","top","documentElement","scrollHeight","behavior","catch","err","console","log","finally","toggleModal","length","fetchSearch","largeImageURL","width","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.16e86d39.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3w84S\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__3an1H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__107ce\",\"content\":\"Modal_content__3bR8r\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinnerBox\":\"PendingView_spinnerBox__1jXqS\",\"spinner\":\"PendingView_spinner__1VdIc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__1zI_u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__cGJVY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__JltAI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__3Nb1V\",\"SearchForm\":\"SearchBar_SearchForm__3KmiX\",\"SearchFormButton\":\"SearchBar_SearchFormButton__3vWir\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__3VKt4\",\"SearchFormInput\":\"SearchBar_SearchFormInput__1sa3N\"};","import axios from 'axios';\r\n\r\nconst MY_API_KEY = '23191493-c555b110853d44812f8f12711';\r\naxios.defaults.baseURL = 'https://pixabay.com/api/';\r\n\r\nexport async function getPictures(query, page = 1) {\r\n    const { data: { hits } } = await axios.get(`?q=${query}&page=${page}\r\n    &per_page=12&image_type=photo&orientation=horizontal&key=${MY_API_KEY}`)\r\n    \r\n    return hits;\r\n}","import s from './Container.module.css';\nimport PropTypes from 'prop-types';\n\nconst Container = ({ children }) => (\n  <div className={s.container}>{children}</div>\n);\n\nContainer.propTypes = {\n  children: PropTypes.node,\n};\n\nexport default Container;\n","import { useState } from 'react';\r\nimport {toast} from 'react-toastify';\r\nimport PropTypes from 'prop-types';\r\nimport s from './SearchBar.module.css';\r\n\r\n\r\nexport default function Searchbar({ onSubmit }) {\r\n  \r\n  const [searchValue, setSearchValue] = useState('');\r\n\r\n    const handleSearchChange = e => {\r\n      setSearchValue(e.target.value.toLowerCase())\r\n      \r\n    }\r\n\r\n    const handleSearchSubmit = e => {\r\n    e.preventDefault();\r\n    if(searchValue.trim() === ''){\r\n      toast.error('Please, enter the search query!', {\r\n        position: toast.POSITION.TOP_LEFT,\r\n        theme: \"colored\",\r\n      })\r\n      return;\r\n    }\r\n    onSubmit(searchValue)\r\n      setSearchValue('');\r\n    }\r\n\r\n        return (\r\n        <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={handleSearchSubmit}>\r\n        <button type=\"submit\" className={s.SearchFormButton}>\r\n      <span className={s.SearchFormButtonLabel}>Search</span>\r\n    </button>\r\n\r\n    <input\r\n      className={s.SearchFormInput}\r\n      type=\"text\"\r\n      autoComplete=\"off\"\r\n      autoFocus\r\n      placeholder=\"Search images and photos\"\r\n      onChange={handleSearchChange}\r\n      value={searchValue}\r\n    />\r\n  </form>\r\n</header>\r\n    )\r\n    }\r\n\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n}\r\n\r\n","import PropTypes from 'prop-types';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\n\r\nexport default function ImageGalleryItem({picture, onModalOpen}) {\r\n    return (\r\n        <>\r\n            <img \r\n            src={picture.webformatURL} \r\n            alt={picture.tags} \r\n            className={s.ImageGalleryItemImage}\r\n            onClick={() => onModalOpen(picture)} />\r\n        </>\r\n    )\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n    picture: PropTypes.object,\r\n    onModalOpen: PropTypes.func,\r\n}","import ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport PropTypes from 'prop-types';\r\nimport s from './ImageGallery.module.css';\r\n\r\nexport default function ImageGallery({pictures, onModalOpen}){\r\n    return (\r\n        <ul className={s.ImageGallery}>\r\n        {pictures.map(picture=> (\r\n            <li className={s.ImageGalleryItem} key={picture.id}>\r\n            <ImageGalleryItem picture={picture} onModalOpen={onModalOpen}/>\r\n            </li>\r\n        ))\r\n        }\r\n        </ul>\r\n    )\r\n}\r\n\r\nImageGallery.propTypes = {\r\n    pictures: PropTypes.arrayOf(PropTypes.shape).isRequired,\r\n    onModalOpen: PropTypes.func,\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport s from './Button.module.css';\r\n\r\n\r\nexport default function Button({onClick}){\r\n    return(\r\n        <button type=\"button\" className={s.Button} onClick={onClick}>Load more</button>\r\n    )\r\n}\r\n\r\nButton.propTypes ={\r\n    onClick: PropTypes.func,\r\n}","import { useEffect } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport s from './Modal.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default function Modal({onClose, children}) {\r\n    \r\n    useEffect(() => {\r\n        const handleKeyDown = e => {\r\n            if (e.code === 'Escape') {\r\n                onClose();\r\n            }\r\n        }\r\n        window.addEventListener('keydown', handleKeyDown);\r\n        return () => {\r\n            window.removeEventListener('keydown', handleKeyDown);\r\n        }\r\n    },[onClose])\r\n\r\n\r\n    const handleBackdropClick = e => {\r\n        if (e.currentTarget === e.target) {\r\n            onClose();\r\n        }\r\n    }\r\n\r\n        return createPortal(\r\n            <div className={s.backdrop} onClick={handleBackdropClick}>\r\n                <div className={s.content}>{children}</div>\r\n            </div>,\r\n            modalRoot,\r\n        );\r\n        \r\n    }\r\n\r\n\r\nModal.propTypes = {\r\n    children: PropTypes.node.isRequired,\r\n    onClose: PropTypes.func.isRequired,\r\n}\r\n","export default function ErrorView() {\r\n    return (\r\n        <div className=\"error\" role=\"alert\">\r\n            <h1 >ERROR: Sorry, nothing is national for this request, enter the correct query...</h1>\r\n        </div>\r\n    )\r\n}","import { ImSpinner} from 'react-icons/im';\r\nimport s from './PendingView.module.css';\r\n\r\n\r\nexport default function PendingView(){\r\n    return (\r\n        <div className={s.spinnerBox} role=\"alert\">\r\n            <ImSpinner size=\"45\" className={s.spinner}/>\r\n            Loading...\r\n        </div>\r\n    )\r\n}","import { useState, useEffect } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { getPictures } from '../../services/PixabayAPI';\nimport Container from '../Container/Container';\nimport Searchbar from '../SearchBar/SearchBar';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport Button from '../Button/Button';\nimport Modal from '../Modal/Modal';\nimport ErrorView from '../ErrorView/ErrorView';\nimport PendingView from '../PendingView/PendingView';\n\n\nfunction App() {\n  const [page, setPage] = useState(1);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [pictures, setPictures] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const [largePicture, setLargePicture] = useState({});\n\n  useEffect(() => {\n    if (!searchQuery) return;\n    setLoading(true);\n    const fetchSearch = () => {\n      getPictures(searchQuery, page)\n        .then(pictures => {\n          setPictures(prev => [...prev, ...pictures]\n          );\n          if (page !== 1) {\n            window.scrollTo({\n              top: document.documentElement.scrollHeight,\n              behavior: 'smooth',\n            });\n          }\n        })\n        .catch(err => console.log(err))\n        .finally(() => setLoading(false));\n    }\n    fetchSearch();\n  }, [searchQuery, page]);\n\n  \n  const handleFormSubmit = searchQuery => {\n    setPage(1);\n    setSearchQuery(searchQuery);\n    setPictures([]);\n    setLoading(true);\n  }\n  \n  \n  const handleLoadMoreClick = fetchSearch => {\n    setLoading(true);\n    setPage(prev => prev + 1);\n    setLoading(false);\n\n}\n\nconst handleModalClick= largePicture =>{\n  setLargePicture(largePicture);\n  toggleModal();\n}\n\nconst toggleModal = () => setShowModal(!showModal)\n\n      return (\n        <Container>\n          <ToastContainer/>\n          <Searchbar onSubmit={handleFormSubmit}/>\n          {pictures.length !== 0 ? (<ImageGallery pictures={pictures} onModalOpen={handleModalClick}/>)\n          : (searchQuery !== '' && <ErrorView/>)}\n          {loading && <PendingView/>}\n          {pictures.length > 0 && <Button onClick={handleLoadMoreClick} />}\n          {showModal && (\n            <Modal onClose={toggleModal}>\n              {loading && <PendingView/>}\n              <img \n              src={largePicture.largeImageURL}\n                alt={largePicture.tags}\n                width='800'\n              />\n            </Modal>)\n  }\n    </Container>\n  )\n  }\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}