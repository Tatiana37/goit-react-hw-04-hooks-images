(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{14:function(e,t,n){e.exports={ImageGallery:"ImageGallery_ImageGallery__3w84S",ImageGalleryItem:"ImageGallery_ImageGalleryItem__3an1H"}},15:function(e,t,n){e.exports={backdrop:"Modal_backdrop__107ce",content:"Modal_content__3bR8r"}},16:function(e,t,n){e.exports={spinnerBox:"PendingView_spinnerBox__1jXqS",spinner:"PendingView_spinner__1VdIc"}},27:function(e,t,n){e.exports={container:"Container_container__1zI_u"}},28:function(e,t,n){e.exports={ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__cGJVY"}},29:function(e,t,n){e.exports={Button:"Button_Button__JltAI"}},35:function(e,t,n){},5:function(e,t,n){e.exports={Searchbar:"SearchBar_Searchbar__3Nb1V",SearchForm:"SearchBar_SearchForm__3KmiX",SearchFormButton:"SearchBar_SearchFormButton__3vWir",SearchFormButtonLabel:"SearchBar_SearchFormButtonLabel__3VKt4",SearchFormInput:"SearchBar_SearchFormInput__1sa3N"}},57:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(4),o=n.n(c),s=(n(35),n(17)),i=n(3),u=n(7),l=(n(36),n(12)),j=n.n(l),m=n(26),b=n(13),h=n.n(b),d="23191493-c555b110853d44812f8f12711";function p(){return p=Object(m.a)(j.a.mark((function e(t){var n,a,r,c=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:1,e.next=3,h.a.get("?q=".concat(t,"&page=").concat(n,"\n    &per_page=12&image_type=photo&orientation=horizontal&key=").concat(d));case 3:return a=e.sent,r=a.data.hits,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}h.a.defaults.baseURL="https://pixabay.com/api/";var O=n(27),f=n.n(O),_=n(1),g=function(e){var t=e.children;return Object(_.jsx)("div",{className:f.a.container,children:t})},x=n(5),S=n.n(x);function v(e){var t=e.onSubmit,n=Object(a.useState)(""),r=Object(i.a)(n,2),c=r[0],o=r[1];return Object(_.jsx)("header",{className:S.a.Searchbar,children:Object(_.jsxs)("form",{className:S.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==c.trim()?(t(c),o("")):u.b.error("Please, enter the search query!",{position:u.b.POSITION.TOP_LEFT,theme:"colored"})},children:[Object(_.jsx)("button",{type:"submit",className:S.a.SearchFormButton,children:Object(_.jsx)("span",{className:S.a.SearchFormButtonLabel,children:"Search"})}),Object(_.jsx)("input",{className:S.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){o(e.target.value.toLowerCase())},value:c})]})})}var I=n(28),y=n.n(I);function w(e){var t=e.picture,n=e.onModalOpen;return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)("img",{src:t.webformatURL,alt:t.tags,className:y.a.ImageGalleryItemImage,onClick:function(){return n(t)}})})}var B=n(14),N=n.n(B);function k(e){var t=e.pictures,n=e.onModalOpen;return Object(_.jsx)("ul",{className:N.a.ImageGallery,children:t.map((function(e){return Object(_.jsx)("li",{className:N.a.ImageGalleryItem,children:Object(_.jsx)(w,{picture:e,onModalOpen:n})},e.id)}))})}var F=n(29),G=n.n(F);function L(e){var t=e.onClick;return Object(_.jsx)("button",{type:"button",className:G.a.Button,onClick:t,children:"Load more"})}var C=n(15),E=n.n(C),M=document.querySelector("#modal-root");function R(e){var t=e.onClose,n=e.children;Object(a.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]);return Object(c.createPortal)(Object(_.jsx)("div",{className:E.a.backdrop,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(_.jsx)("div",{className:E.a.content,children:n})}),M)}function q(){return Object(_.jsx)("div",{className:"error",role:"alert",children:Object(_.jsx)("h1",{children:"ERROR: Sorry, nothing is national for this request, enter the correct query..."})})}var P=n(30),V=n(16),T=n.n(V);function J(){return Object(_.jsxs)("div",{className:T.a.spinnerBox,role:"alert",children:[Object(_.jsx)(P.a,{size:"45",className:T.a.spinner}),"Loading..."]})}var z=function(){var e=Object(a.useState)(1),t=Object(i.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),o=Object(i.a)(c,2),l=o[0],j=o[1],m=Object(a.useState)([]),b=Object(i.a)(m,2),h=b[0],d=b[1],O=Object(a.useState)(!1),f=Object(i.a)(O,2),x=f[0],S=f[1],I=Object(a.useState)(!1),y=Object(i.a)(I,2),w=y[0],B=y[1],N=Object(a.useState)({}),F=Object(i.a)(N,2),G=F[0],C=F[1];Object(a.useEffect)((function(){if(l){S(!0);(function(e){return p.apply(this,arguments)})(l,n).then((function(e){d((function(t){return[].concat(Object(s.a)(t),Object(s.a)(e))})),1!==n&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){return console.log(e)})).finally((function(){return S(!1)}))}}),[l,n]);var E=function(){return B(!w)};return Object(_.jsxs)(g,{children:[Object(_.jsx)(u.a,{}),Object(_.jsx)(v,{onSubmit:function(e){r(1),j(e),d([]),S(!0)}}),0!==h.length?Object(_.jsx)(k,{pictures:h,onModalOpen:function(e){C(e),E()}}):""!==l&&Object(_.jsx)(q,{}),x&&Object(_.jsx)(J,{}),h.length>0&&Object(_.jsx)(L,{onClick:function(e){S(!0),r((function(e){return e+1})),S(!1)}}),w&&Object(_.jsxs)(R,{onClose:E,children:[x&&Object(_.jsx)(J,{}),Object(_.jsx)("img",{src:G.largeImageURL,alt:G.tags,width:"800"})]})]})};o.a.render(Object(_.jsx)(r.a.StrictMode,{children:Object(_.jsx)(z,{})}),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.16e86d39.chunk.js.map